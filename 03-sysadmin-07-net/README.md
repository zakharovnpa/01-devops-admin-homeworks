# 3.7. Компьютерные сети, лекция 2 - Захаров Сергей Николаевич

1. Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?

    **Ответ:**
    
* В используемой для учебных целях ОС Windows 10 нашлось 8 сетевых интерфейсов.  Для вывода информации о сетевых интерфейсах и их параметров настройки используется команда `ipconfig -all`
    
    ```bash
    
      Настройка протокола IP для Windows

         Имя компьютера  . . . . . . . . . : Sergey-PC
         Основной DNS-суффикс  . . . . . . : 
         Тип узла. . . . . . . . . . . . . : Гибридный
         IP-маршрутизация включена . . . . : Нет
         WINS-прокси включен . . . . . . . : Нет

      Адаптер Ethernet Ethernet 4:

         Состояние среды. . . . . . . . : Среда передачи недоступна.
         DNS-суффикс подключения . . . . . : 
         Описание. . . . . . . . . . . . . : Fortinet SSL VPN Virtual Ethernet Adapter
         Физический адрес. . . . . . . . . : 00-09-0F-AA-00-01
         DHCP включен. . . . . . . . . . . : Да
         Автонастройка включена. . . . . . : Да

      Адаптер Ethernet Ethernet:

         Состояние среды. . . . . . . . : Среда передачи недоступна.
         DNS-суффикс подключения . . . . . : 
         Описание. . . . . . . . . . . . . : Realtek PCIe GBE Family Controller
         Физический адрес. . . . . . . . . : 00-E0-12-34-56-78
         DHCP включен. . . . . . . . . . . : Да
         Автонастройка включена. . . . . . : Да

      Адаптер Ethernet VirtualBox Host-Only Network:

         DNS-суффикс подключения . . . . . : 
         Описание. . . . . . . . . . . . . : VirtualBox Host-Only Ethernet Adapter
         Физический адрес. . . . . . . . . : 0A-00-27-00-00-02
         DHCP включен. . . . . . . . . . . : Нет
         Автонастройка включена. . . . . . : Да
         Локальный IPv6-адрес канала . . . : fe80::8d6a:ded4:d4d3:1f4a%2(Основной) 
         IPv4-адрес. . . . . . . . . . . . : 192.168.56.1(Основной) 
         Маска подсети . . . . . . . . . . : 255.255.255.0
         Основной шлюз. . . . . . . . . : 
         IAID DHCPv6 . . . . . . . . . . . : 1225392167
         DUID клиента DHCPv6 . . . . . . . : 00-01-00-01-28-1D-41-9E-00-E0-12-34-56-78
         DNS-серверы. . . . . . . . . . . : fec0:0:0:ffff::1%1
                                             fec0:0:0:ffff::2%1
                                             fec0:0:0:ffff::3%1
         NetBios через TCP/IP. . . . . . . . : Включен

      Адаптер беспроводной локальной сети Подключение по локальной сети* 2:

         Состояние среды. . . . . . . . : Среда передачи недоступна.
         DNS-суффикс подключения . . . . . : 
         Описание. . . . . . . . . . . . . : Microsoft Wi-Fi Direct Virtual Adapter
         Физический адрес. . . . . . . . . : 16-E6-FC-D3-41-61
         DHCP включен. . . . . . . . . . . : Да
         Автонастройка включена. . . . . . : Да

      Адаптер беспроводной локальной сети Подключение по локальной сети* 3:

         Состояние среды. . . . . . . . : Среда передачи недоступна.
         DNS-суффикс подключения . . . . . : 
         Описание. . . . . . . . . . . . . : Microsoft Wi-Fi Direct Virtual Adapter #2
         Физический адрес. . . . . . . . . : 26-E6-FC-D3-41-61
         DHCP включен. . . . . . . . . . . : Да
         Автонастройка включена. . . . . . : Да

      Адаптер Ethernet Ethernet 2:

         Состояние среды. . . . . . . . : Среда передачи недоступна.
         DNS-суффикс подключения . . . . . : 
         Описание. . . . . . . . . . . . . : TAP-Windows Adapter V9
         Физический адрес. . . . . . . . . : 00-FF-38-C9-91-FC
         DHCP включен. . . . . . . . . . . : Да
         Автонастройка включена. . . . . . : Да

      Адаптер Ethernet Ethernet 3:

         Состояние среды. . . . . . . . : Среда передачи недоступна.
         DNS-суффикс подключения . . . . . : 
         Описание. . . . . . . . . . . . . : Fortinet Virtual Ethernet Adapter (NDIS 6.30)
         Физический адрес. . . . . . . . . : 00-09-0F-FE-00-01
         DHCP включен. . . . . . . . . . . : Да
         Автонастройка включена. . . . . . : Да

      Адаптер беспроводной локальной сети Беспроводная сеть 2:

         DNS-суффикс подключения . . . . . : 
         Описание. . . . . . . . . . . . . : Qualcomm Atheros AR922X Wireless Network Adapter
         Физический адрес. . . . . . . . . : 54-E6-FC-D3-41-61
         DHCP включен. . . . . . . . . . . : Да
         Автонастройка включена. . . . . . : Да
         Локальный IPv6-адрес канала . . . : fe80::8112:ba0d:cfab:d8d3%21(Основной) 
         IPv4-адрес. . . . . . . . . . . . : 192.168.1.22(Основной) 
         Маска подсети . . . . . . . . . . : 255.255.255.0
         Аренда получена. . . . . . . . . . : 29 октября 2021 г. 22:00:57
         Срок аренды истекает. . . . . . . . . . : 1 ноября 2021 г. 16:20:04
         Основной шлюз. . . . . . . . . : 192.168.1.1
         DHCP-сервер. . . . . . . . . . . : 192.168.1.1
         IAID DHCPv6 . . . . . . . . . . . : 156559100
         DUID клиента DHCPv6 . . . . . . . : 00-01-00-01-28-1D-41-9E-00-E0-12-34-56-78
         DNS-серверы. . . . . . . . . . . : 192.168.1.1
         NetBios через TCP/IP. . . . . . . . : Включен

    ```
* В виртуальной ОС Linux нашлось два сетевых интерфейса `eth0`, `lo`. Команда `ifconfig` или `ip link show`
```bash
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP mode DEFAULT group default qlen 1000
    link/ether 08:00:27:73:60:cf brd ff:ff:ff:ff:ff:ff

```
![ip-link-show](/03-sysadmin-07-net/img/image3.png)

![ip-link-show](/03-sysadmin-07-net/img/image2.png)

2. Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?

    **Ответ:**
    
    Для распознования соседей по сетевому интерфейсу используется протокол LLDP (Link Layer Discovery Protocol) - протокол обнаружения канального уровня. Это протокол уровня 2, не зависящий от поставщика, который позволяет сетевому устройству сообщать о своей идентичности и возможностях в локальной сети.
    
  ![lldp-show](/03-sysadmin-07-net/img/image5.png)

3. Какая технология используется для разделения L2 коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.

    **Ответ:**

4. Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.

    **Ответ:**

5. Сколько IP адресов в сети с маской /29 ? Сколько /29 подсетей можно получить из сети с маской /24. Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24.

    **Ответ:**

6. Задача: вас попросили организовать стык между 2-мя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты. Из какой подсети допустимо взять частные IP адреса? Маску выберите из расчета максимум 40-50 хостов внутри подсети.

    **Ответ:**

7. Как проверить ARP таблицу в Linux, Windows? Как очистить ARP кеш полностью? Как из ARP таблицы удалить только один нужный IP?

    **Ответ:**



 ---
## Задание для самостоятельной отработки (необязательно к выполнению)

 8*. Установите эмулятор EVE-ng.
 
 Инструкция по установке - https://github.com/svmyasnikov/eve-ng

 Выполните задания на lldp, vlan, bonding в эмуляторе EVE-ng. 
 
   **Ответ:**
 
 ---

Утилиты из лекции:

ip - show / manipulate routing, network devices, interfaces and tunnels
